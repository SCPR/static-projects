<!-- begin css  -->
<style type="text/css">
#map_container {width: 700px; height: 300px;}
#map_data {width: 100%; height: 50px; margin: 0 5% 50px 5%;}
#map_canvas {width: 80%; height: 300px; margin: 0 5% 50px 5%;}
</style>
<!-- end css -->

<!-- begin scripts -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&region=us"></script>
<script type="text/javascript">

    var jqueryNoConflict = jQuery;
    var veteransServed = '1BUKjDW0-aHQNRa2XRmO3Cd6xiLirWHPd22QTmfY';
    var locationColumn =  'Served In';
    var map;
    var layer;


    //begin main function
    jqueryNoConflict(document).ready(function(){
        createMap();
    });

    // begin function
    function createMap() {

        var centerCalif = new google.maps.LatLng(48.714156730001434, 67.1484375);
        map = new google.maps.Map(document.getElementById('map_canvas'), {
            center: centerCalif,
            zoom: 2,
            scrollwheel: false,
            draggable: true,
            mapTypeControl: false,
            navigationControl: true,
            streetViewControl: false,
            panControl: false,
            scaleControl: false,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            navigationControlOptions: {
                style: google.maps.NavigationControlStyle.SMALL,
                position: google.maps.ControlPosition.RIGHT_TOP}
        });

        // Initialize ft layer
        layer = new google.maps.FusionTablesLayer({
            query: {
                select: locationColumn,
                from: veteransServed
            },
            map: map,
            suppressInfoWindows: true
        });

        // click listener that writes to FT data to #my_map_data_div
        google.maps.event.addListener(layer, 'click', function(e) {
            jqueryNoConflict("#map_data").html(
                '<p>' + e.row['Name'].value + '</p>' +
                '<p>' + e.row['Conflict'].value + '</p>' +
                '<p>' + e.row['Served In'].value + '</p>');
        });

    };
    // end function



</script>
<!-- end scripts -->

<!-- begin map container -->
<div id="map_container">

<h4>Using the map</h4>

<!-- begin map data -->
<div id="map_data">


<p>Intro Text goes here and will be hidden on click.</p>


</div>
<!-- end map data -->

<!-- begin map -->
<div id="map_canvas"></div>
<!-- end map -->

</div>
<!-- end map container -->