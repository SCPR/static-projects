/*
 ***********************************************
 * jQuery alterImg script 1.1
 * Created by Michele Tranquilli / Philadelphia Daily News
 * email:tranqum@phillynews.com
 * updated: Jan 17, 2013
 ************************************************
*/
(function($){
	$.fn.extend({
		alterImg: function(options){
		    var defaults = {
				baWidth: 400,
				baHeight: 366,
				beforePhoto: '',
				afterPhoto: '',
				onReady: function(){}
			};

    		var options = $.extend(defaults, options);
    		var thisDiv = $(this);
    		thisDiv.prepend('<div id="before"><img class="responsive" src="'+ options.beforePhoto + '" width="'+ options.baWidth +'" height="'+ options.baHeight +'" /></div>');
    		var thisValue = options.baWidth/2;

    		$(thisDiv).slider({
    		    range: 'max',
    		    value: thisValue ,
    			min: 0,
    			max:options.baWidth,
    			animate: false,
    			step: 1
    		}).bind({
    			slide:function(event,ui){
    			    var x = ui.value;
    			    thisDiv + $('#before').stop().css('width',parseFloat(x));
    			    }
    			 });
            thisDiv + $('#before').css({position: 'absolute', top: 0, left: 0, width: 0, overflow: 'hidden'});
            thisDiv + $('#before img').css({position: 'relative', top: 0, left: 0});
            thisDiv + $('.ui-widget-header').css({'background-image': 'url()','background-color': ''});
            thisDiv + $('#before').css('width',thisValue);
            thisDiv + $('.ui-slider').css({'background-image': 'url('+options.afterPhoto+')', 'background-repeat': 'no', overflow: 'hidden'});
            thisDiv.css({height: options.baHeight, width: options.baWidth, position: 'relative', border: '1px solid #7c8d94'});
            var handleWidth = parseInt($('#slider a').css('width'));
            var handleHeight = parseInt($('#slider a').css('height'));
            var midPoint = ((parseInt(thisDiv.css('height'))/2)-(handleHeight/2));
            thisDiv + $('a.ui-state-default').css({'background-color': '',cursor: 'pointer','top':parseInt(midPoint), 'margin-left':-handleWidth/2});
		}
    });
})(jQuery);