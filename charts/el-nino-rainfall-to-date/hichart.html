<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>TKTKTKTKTK</title>


        <!-- 1. Add these JavaScript inclusions in the head of your page -->
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
        <script type="text/javascript" src="http://code.highcharts.com/modules/data.js"></script>


        <!-- 2. Add the JavaScript to initialize the chart on document ready -->
        <script type="text/javascript">
        $(document).ready(function() {




            /*
             Load the data from the CSV file. This is the contents of the file:

                Apples,Pears,Oranges,Bananas,Plums
                John,8,4,6,5
                Jane,3,4,2,3
                Joe,86,76,79,77
                Janet,3,16,13,15

             */
            $.get('nino_to_date.csv', function(csv) {
                $('#container').highcharts({
                    chart: {
/*                        marginRight: 150,    */
                        type: 'spline'
                    },
                    colors: ['#31ABD4', '#898989', '#F87E21'],
                    data: {
                        csv: csv,
                        dataLabels:{enabled:true}
                    },
                    title: {
                        text: "Putting this year's rainfall in context",
                            style: {
                                    fontSize: 25,
                                    fontFamily: 'Cambira',
                                    fontWeight: 'bold'
                                }
                    },
                    legend: {
                                itemStyle: {
                                    fontFamily: 'Arial',
                                    fontSize: 16
                                }
                            },
                    xAxis: {
                        labels: {
                            style: {
                                fontSize: 15,
                                fontFamily: 'Arial'
                            }},
                        type: 'datetime',
                            dateTimeLabelFormats: { // don't display the dummy year
                            month: '%b',
                            //year: '%b'
                            },
                        },
                    yAxis: {
                        labels: {
                            style: {
                                fontSize: 15,
                                fontFamily: 'Arial'
                            }},
                        title: {
                            text: 'Percent of normal rainfall',
                            style: {
                                fontSize: 15
                            }
                        },
                        endOnTick:false,
                        max: 155
                        },
                    tooltip: {
                        formatter: function() {
                            return this.series.name + ' at <b>' + this.y + '</b> percent of normal rainfall on '+
                    Highcharts.dateFormat('%b %e',
                                          new Date(this.x))
                ;
                        }
                    },
                    plotOptions: {
                        spline: {
                            marker: {
                                enabled: false,
                                symbol: 'circle',
                                transparency: 0,
                                radius: 0

                            }
                        },
                        series: {
                            lineWidth: 3.8,
                            states: {
                                hover: {
                                    enabled: false
                                }
                            },
/*                        dataLabels: {
                            enabled: true,
                            crop:false,
                            overflow:'none',
                            align: 'left',
                            y:10,
                            useHTML: true,
                            formatter: function() {
                                if (????) return '<span style="color:'
                                +this.series.color+'">'
                                +this.series.name+'</span>';
                            }
                        }*/
                        },
                    }

                });
            });


        });
        </script>

    </head>
    <body>

        <!-- 3. Add the container -->
        <div id="container" style="width: 100%; height: 400px; margin: 2 auto"></div>


    </body>
</html>
